!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";function n(e,t,o=!1){return new Promise(n=>{t?exports["rd-taskbar"].taskbar(e,t,o,!0,null,!1,n):setTimeout(()=>n(100),e)})}o.r(t);const i=e=>new Promise(t=>{RequestAnimDict(e);const o=setInterval(()=>{HasAnimDictLoaded(e)&&(clearInterval(o),t(!0))},200);setTimeout(()=>{clearInterval(o),t(!1)},5e3)}),p=[];function r(e,t){AddEventHandler(`_npx_uiReq:${e}`,t),"started"===GetResourceState("rd-ui")&&exports["rd-ui"].RegisterUIEvent(e),p.push(e)}async function a(){const e="amb@code_human_in_bus_passenger_idles@female@tablet@base";on("rd-inventory:itemUsed",async(t,o)=>{if("book"!==t)return;console.log("1"),await i(e),TaskPlayAnim(PlayerPedId(),e,"base",3,3,-1,49,0,!1,!1,!1),console.log("2"),emit("attachItemPhone","openBook"),console.log("3");const{pages:n,width:p,height:r}=JSON.parse(o);console.log("4");const a={pages:n,width:p,height:r};console.log("5"),exports["rd-ui"].openApplication("book",a),console.log("6")}),on("rd-inventory:itemUsed",async(t,o)=>{if("casinoblueprints"!==t)return;await i(e),TaskPlayAnim(PlayerPedId(),e,"base",3,3,-1,49,0,!1,!1,!1),emit("attachItemPhone","openBook");const n={pages:["https://i.imgur.com/kOKGn8d.png","https://i.imgur.com/DrJKkoQ.jpeg","https://i.imgur.com/6RFTxtd.png","https://i.imgur.com/KWoL8jQ.png","https://i.imgur.com/2JGDkDV.jpeg","https://i.imgur.com/yQK2fsU.jpeg","https://i.imgur.com/PYaI6qY.png","https://i.imgur.com/g3gOXQ8.png","https://i.imgur.com/30AhDK6.jpeg","https://i.imgur.com/AK1uEoa.jpeg","https://i.imgur.com/iXvHoNw.png","https://i.imgur.com/vc5siU8.png","https://i.imgur.com/4vBecRk.jpeg","https://i.imgur.com/0r2rN8p.jpeg","https://i.imgur.com/g5xkFIw.png","https://i.imgur.com/pHAPxn9.png","https://i.imgur.com/CpdJRYl.png"],width:1500,height:1125};exports["rd-ui"].openApplication("book",n)}),on("rd-inventory:itemUsed",async(t,o)=>{if("rearingbroncostatuebook"!==t)return;await i(e),TaskPlayAnim(PlayerPedId(),e,"base",3,3,-1,49,0,!1,!1,!1),emit("attachItemPhone","openBook");const n={pages:["https://cdn.discordapp.com/attachments/1061244578621050990/1075159601433034843/image_3.png","https://i.imgur.com/kwskDAz.png","https://i.imgur.com/CjVomBp.png","https://i.imgur.com/dsukOFa.png"],width:1200,height:1500};exports["rd-ui"].openApplication("book",n)}),on("rd-inventory:itemUsed",async(t,o)=>{if("impotentragefigurebook"!==t)return;await i(e),TaskPlayAnim(PlayerPedId(),e,"base",3,3,-1,49,0,!1,!1,!1),emit("attachItemPhone","openBook");const n={pages:["https://i.imgur.com/CC4r1Po.png","https://i.imgur.com/J3x9xtr.png","https://i.imgur.com/goqrZKn.png","https://i.imgur.com/xC8Cpop.png"],width:1200,height:1500};exports["rd-ui"].openApplication("book",n)}),on("rd-inventory:itemUsed",async(t,o)=>{if("glimpseofhopebook"!==t)return;await i(e),TaskPlayAnim(PlayerPedId(),e,"base",3,3,-1,49,0,!1,!1,!1),emit("attachItemPhone","openBook");const n={pages:["https://i.imgur.com/drtQQTo.png","https://i.imgur.com/REHdTvG.png","https://i.imgur.com/mf9ahFh.png","https://i.imgur.com/mQi5CZ7.png","https://i.imgur.com/TreCPFD.png","https://i.imgur.com/sy8ffwE.png","https://i.imgur.com/H04nf7b.png","https://i.imgur.com/exQ0KCy.png"],width:1200,height:1500};exports["rd-ui"].openApplication("book",n)}),on("rd-ui:application-closed",async t=>{"book"===t&&(await async function(e){return new Promise(t=>setTimeout(()=>t(),e))}(1e3),StopAnimTask(PlayerPedId(),e,"base",1),TriggerEvent("destroyPropPhone"))})}async function s(){await async function(){on("rd-books:ui:createBook",(e=!1)=>{const t={id:"rd-books:ui:createBook",ignorePaperRequirement:e};exports["rd-ui"].openApplication("textbox",t)}),onNet("rd-books:bookCreated",(e,t,o)=>{if(!1===e.success)return void emit("DoLongHudText",e.message,2);const{pages:n,width:i,height:p}=e,r={pages:n,width:i,height:p};exports["rd-ui"].openApplication("book",r),emit("inventory:removeItem","paper",1);const a={pages:n,width:i,height:p};a._name=t,a._image_url=o,a._hideKeys=["_image_url","_name","pages","width","height"],emit("player:receiveItem","book",1,!1,a)}),r("rd-books:ui:createBook",async(e,t)=>{if(t({data:[],meta:{ok:!0,message:""}}),exports["rd-ui"].closeApplication("textbox"),!e.key.ignorePaperRequirement){return void(exports["rd-inventory"].hasEnoughOfItem("paper",1,!1,!0)||emit("DoLongHudText","You're missing paper"))}emit("animation:PlayAnimation","notepad");const o=await n(2e4,"Writing a book...",!0);if(emit("animation:PlayAnimation","cancel"),100!==o)return;const{values:{title:i,pagesUrl:p,icon:r}}=e;emitNet("rd-books:createBook",i,p,r)})}(),await async function(){on("rd-books:copyBook",()=>{const e=exports["rd-inventory"].getItemsOfType("book",20,!0).reduce((e,t)=>{const o=JSON.parse(t.information);if(e.find(e=>e.title===o._name))return e;const n={title:o._name,action:"rd-ui:books:copyBook",key:o};return e.push(n),e},[]);0!==e.length?exports["rd-ui"].showContextMenu(e):emit("DoLongHudText","You have no books.",2)}),r("rd-ui:books:copyBook",async(e,t)=>{t({data:[],meta:{ok:!0,message:""}});const o=e.key;if(!exports["rd-inventory"].hasEnoughOfItem("paper",1,!1,!0))return void emit("DoLongHudText","You're missing Paper");emit("animation:PlayAnimation","notepad");const i=await n(3e3,"Copying a book...");emit("animation:PlayAnimation","cancel"),100===i&&(emit("invnetory:removeItem","paper",1),emit("player:receiveItem","book",1,!1,o))})}(),await a()}AddEventHandler("_npx_uiReady",()=>{p.forEach(e=>exports["rd-ui"].RegisterUIEvent(e))}),async function(){await s()}()}]);